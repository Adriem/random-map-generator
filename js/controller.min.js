var setupToggle,setupToggleable;$(document).ready(function(){var e,a,o;return e=$("#canvas")[0].getContext("2d"),o=void 0,a=function(){switch(mapParams.canvasSize=parseInt($("#canvas").attr("width")),mapParams.mapSize=parseInt($("#mapSize").val()),$("#algorythm").val()){case"BSP":return bsp.config.MIN_ROOM_SIZE=parseInt($("#roomMinSize").val()),bsp.config.MAX_ROOM_SIZE=parseInt($("#roomMaxSize").val()),bsp.config.ROOM_DELETING_RATIO=$("#deletingEnabled").prop("checked")?parseFloat($("#deletingRatio").val()):0,bsp.config.DOOR_CHANCE=$("#doorsEnabled").prop("checked")?parseInt($("#doorChance").val()):0,o=bsp.generate(mapParams.mapSize),o.paint(e)}},$("#mapSize").val(mapParams.mapSize),setupToggle("#showGrid",mapParams.showGrid),setupToggle("#showWalls",mapParams.showWalls),setupToggle("#showDoors",mapParams.showDoors),setupToggle("#showDebug",mapParams.debugMode),$("#roomMinSize").val(bsp.config.MIN_ROOM_SIZE),$("#roomMaxSize").val(bsp.config.MAX_ROOM_SIZE),setupToggleable("#deletingEnabled","#deletingRatio",bsp.config.ROOM_DELETING_RATIO),setupToggleable("#doorsEnabled","#doorChance",bsp.config.DOOR_CHANCE),$("#generate").click(a),$("#showGrid").change(function(){return mapParams.showGrid=$("#showGrid").prop("checked"),o.paint(e)}),$("#showWalls").change(function(){return mapParams.showWalls=$("#showWalls").prop("checked"),o.paint(e)}),$("#showDoors").change(function(){return mapParams.showDoors=$("#showDoors").prop("checked"),o.paint(e)}),$("#showDebug").change(function(){return mapParams.debugMode=$("#showDebug").prop("checked"),o.paint(e)}),$('[data-togle="tooltip"]').tooltip(),a()}),setupToggle=function(e,a){return a?$(e).prop("checked","on"):void 0},setupToggleable=function(e,a,o,r){return null==r&&(r=0),$(a).val(o),o>r?$(e).prop("checked","on"):$(e).removeProp("checked","on"),$(e).change(function(){return $(e).prop("checked")?$(a).removeAttr("disabled",""):$(a).attr("disabled","")})};